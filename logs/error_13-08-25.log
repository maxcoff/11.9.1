[13-08  22:01:31] ERROR bot [mode=REST] : API error code=1 response={'code': '1', 'data': [{'clOrdId': '', 'ordId': '2771907485871955968', 'sCode': '51400', 'sMsg': 'Order cancellation failed as the order has been filled, canceled or does not exist.', 'ts': '1755111691387'}], 'inTime': '1755111691355778', 'msg': 'All operations failed', 'outTime': '1755111691358908'}
[13-08  22:01:31] ERROR bot [mode=ORDER] : ‚ùå [OrderMode] cancel-order failed for 2771907485871955968: API error 1
Traceback (most recent call last):
  File "d:\Develop\Python\trade_bot\11.9.1\core\order_mode.py", line 26, in cancel_order
    await self.rest.request(
  File "d:\Develop\Python\trade_bot\11.9.1\core\rest_client.py", line 294, in request
    raise RuntimeError(f"API error {code}")
RuntimeError: API error 1
[13-08  22:01:43] ERROR bot [mode=REST] : API error code=1 response={'code': '1', 'data': [{'clOrdId': '', 'ordId': '2771907889699545088', 'sCode': '51400', 'sMsg': 'Order cancellation failed as the order has been filled, canceled or does not exist.', 'ts': '1755111702905'}], 'inTime': '1755111702873525', 'msg': 'All operations failed', 'outTime': '1755111702876542'}
[13-08  22:01:43] ERROR bot [mode=ORDER] : ‚ùå [OrderMode] cancel-order failed for 2771907889699545088: API error 1
Traceback (most recent call last):
  File "d:\Develop\Python\trade_bot\11.9.1\core\order_mode.py", line 26, in cancel_order
    await self.rest.request(
  File "d:\Develop\Python\trade_bot\11.9.1\core\rest_client.py", line 294, in request
    raise RuntimeError(f"API error {code}")
RuntimeError: API error 1
[13-08  22:22:27] ERROR bot [mode=REST] : API error code=1 response={'code': '1', 'data': [{'clOrdId': '', 'ordId': '2771949620541317120', 'sCode': '51400', 'sMsg': 'Order cancellation failed as the order has been filled, canceled or does not exist.', 'ts': '1755112947024'}], 'inTime': '1755112946992344', 'msg': 'All operations failed', 'outTime': '1755112946995311'}
[13-08  22:22:27] ERROR bot [mode=ORDER] : ‚ùå [OrderMode] cancel-order failed for 2771949620541317120: API error 1
Traceback (most recent call last):
  File "d:\Develop\Python\trade_bot\11.9.1\core\order_mode.py", line 26, in cancel_order
    await self.rest.request(
  File "d:\Develop\Python\trade_bot\11.9.1\core\rest_client.py", line 294, in request
    raise RuntimeError(f"API error {code}")
RuntimeError: API error 1
[13-08  22:23:23] ERROR bot [mode=REST] : [TimeoutError] POST https://www.okx.com/api/v5/trade/order, attempt 1/4, sleeping 1.1s before retry
Traceback (most recent call last):
  File "C:\Users\Professional\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiohttp\client_reqrep.py", line 1059, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Professional\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiohttp\streams.py", line 644, in read
    await self._waiter
asyncio.exceptions.CancelledError

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "d:\Develop\Python\trade_bot\11.9.1\core\rest_client.py", line 206, in request
    async with self.session.request(
  File "C:\Users\Professional\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiohttp\client.py", line 1360, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\Professional\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiohttp\client.py", line 690, in _request
    await resp.start(conn)
  File "C:\Users\Professional\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiohttp\client_reqrep.py", line 1054, in start
    with self._timer:
  File "C:\Users\Professional\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiohttp\helpers.py", line 749, in __exit__
    raise asyncio.TimeoutError from exc_val
TimeoutError
[13-08  22:23:23] ERROR bot [mode=REST] : [TimeoutError] GET https://www.okx.com/api/v5/account/positions, attempt 1/4, sleeping 1.1s before retry
Traceback (most recent call last):
  File "C:\Users\Professional\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiohttp\client.py", line 663, in _request
    conn = await self._connector.connect(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Professional\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiohttp\connector.py", line 538, in connect
    proto = await self._create_connection(req, traces, timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Professional\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiohttp\connector.py", line 1050, in _create_connection
    _, proto = await self._create_direct_connection(req, traces, timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Professional\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiohttp\connector.py", line 1353, in _create_direct_connection
    transp, proto = await self._wrap_create_connection(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Professional\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiohttp\connector.py", line 1109, in _wrap_create_connection
    sock = await aiohappyeyeballs.start_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Professional\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiohappyeyeballs\impl.py", line 87, in start_connection
    sock, _, _ = await _staggered.staggered_race(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Professional\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiohappyeyeballs\_staggered.py", line 165, in staggered_race
    done = await _wait_one(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Professional\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiohappyeyeballs\_staggered.py", line 46, in _wait_one
    return await wait_next
           ^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "d:\Develop\Python\trade_bot\11.9.1\core\rest_client.py", line 206, in request
    async with self.session.request(
  File "C:\Users\Professional\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiohttp\client.py", line 1360, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\Professional\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiohttp\client.py", line 578, in _request
    with timer:
  File "C:\Users\Professional\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiohttp\helpers.py", line 749, in __exit__
    raise asyncio.TimeoutError from exc_val
TimeoutError
[13-08  22:23:25] ERROR bot [mode=REST] : API error code=1 response={'code': '1', 'data': [{'clOrdId': 'SDOGEUSDTSWAP', 'ordId': '', 'sCode': '51016', 'sMsg': 'Client order ID already exists. ', 'tag': '', 'ts': '1755113004544'}], 'inTime': '1755113004512906', 'msg': 'All operations failed', 'outTime': '1755113004516113'}
[13-08  22:23:25] ERROR bot [mode=ORDER] : ‚ùå [OrderMode] place error: API error 1
[13-08  22:30:37] ERROR bot [mode=-] : ‚ùå [TPSL] loop error: float division by zero
Traceback (most recent call last):
  File "d:\Develop\Python\trade_bot\11.9.1\core\tpsl_monitor.py", line 225, in _loop
    abs(current.get(cid_init, 0)  - tp_init)  / tp_init  > self.threshold
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~
ZeroDivisionError: float division by zero
[13-08  22:30:46] ERROR bot [mode=REST] : API error code=1 response={'code': '1', 'data': [{'algoClOrdId': '', 'algoId': '', 'clOrdId': '', 'sCode': '51279', 'sMsg': 'TP trigger price cannot be lower than the last price ', 'tag': ''}], 'msg': ''}
[13-08  22:30:46] ERROR bot [mode=-] : ‚ùå [TPSL] conditional failed for LDOGEUSDTSWAP: API error 1
[13-08  23:19:32] ERROR bot [mode=-] : –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –≤ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–µ: Session is closed
Traceback (most recent call last):
  File "d:\Develop\Python\trade_bot\11.9.1\main.py", line 124, in main
    asyncio.sleep(0)  # –ø—Ä–æ—Å—Ç–æ —á—Ç–æ–±—ã gather –Ω–µ —Å—Ö–ª–æ–ø–Ω—É–ª—Å—è, –µ—Å–ª–∏ run() –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è
    ^^^^^^^^^^^^^^^^^^^^^^
  File "d:\Develop\Python\trade_bot\11.9.1\core\orchestrator.py", line 77, in run
    await self.snapshot.sync_from_rest()
  File "d:\Develop\Python\trade_bot\11.9.1\core\position_snapshot.py", line 45, in sync_from_rest
    await self._fetch_and_store()
  File "d:\Develop\Python\trade_bot\11.9.1\core\position_snapshot.py", line 115, in _fetch_and_store
    long_q, long_px = await self._rest_position("long")
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\Develop\Python\trade_bot\11.9.1\core\position_snapshot.py", line 145, in _rest_position
    resp = await self.rest.request(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\Develop\Python\trade_bot\11.9.1\core\rest_client.py", line 206, in request
    async with self.session.request(
  File "C:\Users\Professional\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiohttp\client.py", line 1360, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\Professional\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiohttp\client.py", line 493, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
[13-08  23:24:08] ERROR bot [mode=MAIN] : üí• Fatal error: Session is closed
Traceback (most recent call last):
  File "d:\Develop\Python\trade_bot\11.9.1\main.py", line 193, in <module>
    asyncio.run(main())
  File "C:\Users\Professional\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Professional\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Professional\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 687, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "d:\Develop\Python\trade_bot\11.9.1\main.py", line 122, in main
    await asyncio.gather(
  File "d:\Develop\Python\trade_bot\11.9.1\core\orchestrator.py", line 77, in run
    await self.snapshot.sync_from_rest()
  File "d:\Develop\Python\trade_bot\11.9.1\core\position_snapshot.py", line 45, in sync_from_rest
    await self._fetch_and_store()
  File "d:\Develop\Python\trade_bot\11.9.1\core\position_snapshot.py", line 115, in _fetch_and_store
    long_q, long_px = await self._rest_position("long")
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\Develop\Python\trade_bot\11.9.1\core\position_snapshot.py", line 145, in _rest_position
    resp = await self.rest.request(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\Develop\Python\trade_bot\11.9.1\core\rest_client.py", line 206, in request
    async with self.session.request(
  File "C:\Users\Professional\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiohttp\client.py", line 1360, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\Professional\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiohttp\client.py", line 493, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
[13-08  23:24:08] ERROR bot [mode=LOOP] : Loop-level exception
